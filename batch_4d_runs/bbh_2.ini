################################################################################
## Data generation arguments
################################################################################

gaussian-noise = True
minimum-frequency = 23.0
maximum-frequency = 2048.0
trigger-time = 0
; calibration_model = None

################################################################################
## Injection arguments
################################################################################

injection=True
; injection-file=./datafiles/bbh_injections.json
; injection-numbers = [2]
injection-dict={'chirp_mass': 25.409735239361947, 'mass_ratio': 0.7633094908609986, 'a_1': 0.7545157633970611, 'a_2': 0.4764858738192007, 'tilt_1': 0.0, 'tilt_2': 0.0, 'phi_12': 0.0, 'phi_jl': 0.0, 'luminosity_distance': 2000, 'dec': 0.1, 'ra': 0.1, 'theta_jn': 0.1, 'psi': 0.1, 'phase': 0.1, 'geocent_time': 0.0, 'fiducial': 1}

################################################################################
## Detector arguments
################################################################################

detectors = [H1, L1, V1]
psd_dict = {H1="../psds/psd.txt", L1="../psds/psd.txt", V1="../psds/psd_virgo.txt"}
duration = 4
generation-seed = 2
jitter-time = False

################################################################################
## Job submission arguments
################################################################################

label = bbh_2
outdir = "./outdir/out_bbh_2"

################################################################################
## Prior arguments
################################################################################

prior-file = ./datafiles/bbh.prior

################################################################################
## Likelihood arguments
################################################################################

distance-marginalization=False
phase-marginalization=False
time-marginalization=False

; ### Without relative binning
; likelihood-type=bilby.gw.likelihood.GravitationalWaveTransient
; frequency-domain-source-model = lal_binary_black_hole_relative_binning
; conversion-function=convert_to_lal_binary_black_hole_parameters
; extra-likelihood-kwargs={}

### With relative binning
likelihood-type=bilby.gw.likelihood.relative.RelativeBinningGravitationalWaveTransient
fiducial-parameters={'chirp_mass': 25.409735239361947, 'mass_ratio': 0.7633094908609986, 'a_1': 0.7545157633970611, 'a_2': 0.4764858738192007, 'tilt_1': 0.0, 'tilt_2': 0.0, 'phi_12': 0.0, 'phi_jl': 0.0, 'luminosity_distance': 2000, 'dec': 0.1, 'ra': 0.1, 'theta_jn': 0.1, 'psi': 0.1, 'phase': 0.1, 'geocent_time': 0.0}
extra-likelihood-kwargs={'epsilon':0.01}
frequency-domain-source-model = lal_binary_black_hole_relative_binning
conversion-function=convert_to_lal_binary_black_hole_parameters

################################################################################
## Waveform arguments
################################################################################

waveform_approximant = IMRPhenomD

################################################################################
## Dynesty settings
################################################################################

sampler = dynesty
nlive = 1000
nact = 20

; ################################################################################
; ## Slurm Settings
; ################################################################################

; nodes = 1
; ntasks-per-node = 10
; time = 32:00:00
; mem-per-cpu = 2000
; extra-lines = source ~/.bash_profile; conda activate parallel_bilby
; slurm-extra-lines = partition=gstar dependency=singleton
